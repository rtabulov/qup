var V=Object.defineProperty;var f=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var _=(a,u,e)=>u in a?V(a,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[u]=e,b=(a,u)=>{for(var e in u||(u={}))g.call(u,e)&&_(a,e,u[e]);if(f)for(var e of f(u))h.call(u,e)&&_(a,e,u[e]);return a};import{b as B,U as C,N as w,g as k,j as t,h as l,i as r,w as v,Q as D,s as d,u as S,V as U,o as q}from"./vendor.75481ff1.js";import{_ as y}from"./AppInput.2110be0f.js";import{_ as N}from"./AppButton.c4435c9b.js";import{h as $,e as F,b as E,m as L,n as R,_ as j}from"./index.bace5c34.js";const A={class:"text-center"},H=l("h1",{class:"text-3xl"},"\u0412\u0445\u043E\u0434",-1),I=["onSubmit"],M=d("\u0412\u043E\u0439\u0442\u0438"),P={class:"mt-2"},Q=d(" \u0415\u0449\u0435 \u043D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B? "),T=d("\u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u044D\u0442\u043E \u0437\u0434\u0435\u0441\u044C"),z=l("p",{class:"mt-2"},"\u0414\u043B\u044F \u0441\u043C\u0435\u043D\u044B \u0440\u043E\u043B\u0438 \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u043A \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443",-1),G=B({setup(a){const u=C({email:"",password:""}),e=w({}),m=S(),p=U(),c=$(),i=w(!1);async function x(){var n,s;i.value=!0;try{await L(b({},u)),await c.tryLoggingIn(),p.query.backurl?m.push(p.query.backurl):m.push(R((s=(n=c.user)==null?void 0:n.role)==null?void 0:s.key))}catch(o){i.value=!1,o.response&&(e.value=o.response.data)}}return(n,s)=>(q(),k("div",A,[H,t(j,{center:""}),l("form",{class:"max-w-xl mx-auto space-y-4",onSubmit:D(x,["prevent"])},[t(y,{modelValue:r(u).email,"onUpdate:modelValue":s[0]||(s[0]=o=>r(u).email=o),error:e.value.email,"onUpdate:error":s[1]||(s[1]=o=>e.value.email=o),type:"email",required:"",label:"E-mail"},null,8,["modelValue","error"]),t(y,{modelValue:r(u).password,"onUpdate:modelValue":s[2]||(s[2]=o=>r(u).password=o),error:e.value.password,"onUpdate:error":s[3]||(s[3]=o=>e.value.password=o),type:"password",required:"",label:"\u041F\u0430\u0440\u043E\u043B\u044C"},null,8,["modelValue","error"]),t(N,{disabled:i.value,type:"submit",class:"w-full"},{default:v(()=>[M]),_:1},8,["disabled"]),l("p",P,[Q,t(F,{to:"/register"},{default:v(()=>[T]),_:1})]),z],40,I)]))}});typeof E=="function"&&E(G);export{G as default};
