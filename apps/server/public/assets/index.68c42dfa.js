import{u as N,h as D,b,q as F,s as V,t as B}from"./index.e67c8864.js";import{_ as T}from"./AppSelect.4b3790b9.js";import{A as j,a as m,b as S}from"./AppTableRow.b348f3eb.js";import{o as e,c as d,j as a,b as $,N as E,w as o,g as i,G as L,h as f,t as w,i as l,F as g,s as r}from"./vendor.75481ff1.js";function M(v,c){return e(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])}function R(v,c){return e(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])}const q=r("\u0424\u0418\u041E"),z=r("\u0420\u043E\u043B\u044C"),G=r("\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),H={class:"px-4"},I={class:"px-4 py-3"},P={class:"px-4 text-right"},J=["onClick"],K=r(" \u0414\u0435\u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),O=r(" \u0410\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),Q={key:1},W=$({setup(v){const c=E([]),k=E([]),_=N(),p=async()=>{await Promise.all([F().then(t=>c.value=t),V().then(t=>k.value=t)])};p();const h=D();async function y(t,n){await B(t,{active:n}),await p(),_.create({text:n?"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D":"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0434\u0435\u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D"})}async function U(t,n){try{await B(t,{roleId:n}),await p(),_.create({text:"\u0420\u043E\u043B\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0430"})}catch{_.create({text:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0437\u0430\u043F\u0440\u0435\u0449\u0435\u043D\u043E",type:"danger"})}}return(t,n)=>(e(),d(j,null,{head:o(()=>[a(m,null,{default:o(()=>[q]),_:1}),a(m,null,{default:o(()=>[z]),_:1}),a(m,null,{default:o(()=>[G]),_:1})]),default:o(()=>[(e(!0),i(g,null,L([...k.value,...c.value],u=>(e(),d(S,null,{default:o(()=>{var x,C,A;return[f("td",H,w(u.lastName)+" "+w(u.firstName)+" "+w(u.middleName),1),f("td",I,[a(T,{class:"mt-0",options:l(h).roles,disabled:u.id===((x=l(h).user)==null?void 0:x.id),"model-value":(C=u.role)==null?void 0:C.id,"get-label":s=>s.name,"get-value":s=>s.id,"onUpdate:modelValue":s=>U(u.id,s)},null,8,["options","disabled","model-value","get-label","get-value","onUpdate:modelValue"])]),f("td",P,[((A=l(h).user)==null?void 0:A.id)!==u.id?(e(),i("button",{key:0,class:"hover:text-blue transition-colors",onClick:s=>y(u.id,!u.active)},[u.active?(e(),i(g,{key:0},[K,a(l(M),{class:"inline align-middle w-6 h-6"})],64)):(e(),i(g,{key:1},[O,a(l(R),{class:"inline align-middle w-6 h-6"})],64))],8,J)):(e(),i("span",Q,"\u0412\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442"))])]}),_:2},1024))),256))]),_:1}))}});typeof b=="function"&&b(W);export{W as default};
