import{b as F,J as s,g as o,i as e,N as h,t as x,k as p,u as n,w,F as B,h as y,M as g,o as m,q as C}from"./vendor.a7312e6f.js";import{g as A,c as M,q}from"./index.876e2b77.js";import{_ as k}from"./AppButton.9cd8b9e5.js";import{_ as r}from"./AppInput.0b832c98.js";import{_ as N}from"./FileInput.9b785ec2.js";import{_ as S}from"./AppRuler.ac70f49b.js";import{b as v}from"./route-block.b5bad31b.js";import{f as d}from"./index.7bbc5099.js";const V=y("h1",{class:"text-3xl text-center"},"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043A\u0430\u0442",-1),$=["onSubmit"],L=y("p",{class:"font-bold"},"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043E\u0442 \u043F\u0440\u043E\u0432\u0435\u0440\u044F\u044E\u0449\u0435\u0433\u043E",-1),I={key:0,class:"border-l-[3px] border-muted pl-3"},J=C(" \u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043A\u0430\u0442 "),R=F({props:{id:null},setup(D){const c=D,u=s(null);A(c.id).then(i=>u.value=i);const _=M(),E=g(),a=s({}),l=s(!1);async function b(i){l.value=!0;try{const t=new FormData(i.target);await q(c.id,t),await _.tryLoggingIn(),E.push("/profile")}catch(t){l.value=!1,t.response&&(a.value=t.response.data)}}return(i,t)=>{var f;return m(),o(B,null,[V,e(S,{center:""}),u.value?(m(),o("form",{key:0,class:"max-w-xl mx-auto space-y-4",onSubmit:h(b,["prevent"])},[L,(f=u.value)!=null&&f.comment?(m(),o("p",I,x(u.value.comment),1)):p("",!0),e(N,{multiple:"",name:"files","initial-value":u.value.files},null,8,["initial-value"]),e(r,{type:"text",required:"",label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u0443\u0440\u0441\u0430 \u043F\u043E\u0432\u044B\u0448\u0435\u043D\u0438\u044F \u043A\u0432\u0430\u043B\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438",name:"name","initial-value":u.value.name,error:a.value.name},null,8,["initial-value","error"]),e(r,{type:"text",required:"",label:"\u041A\u0435\u043C \u0432\u044B\u0434\u0430\u043D",name:"issuedBy","initial-value":u.value.issuedBy,error:a.value.issuedBy},null,8,["initial-value","error"]),e(r,{type:"date",required:"",label:"\u0414\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438",name:"issuedDate","initial-value":n(d)(new Date(u.value.issuedDate),"yyyy-MM-dd"),error:a.value.issuedDate},null,8,["initial-value","error"]),e(r,{type:"date",required:"",label:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u0440\u043E\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u043E\u0431\u0443\u0447\u0435\u043D\u0438\u044F",name:"startDate","initial-value":n(d)(new Date(u.value.startDate),"yyyy-MM-dd"),error:a.value.startDate},null,8,["initial-value","error"]),e(r,{type:"date",required:"",label:"\u0414\u0430\u0442\u0430 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F \u043F\u0440\u043E\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u043E\u0431\u0443\u0447\u0435\u043D\u0438\u044F",name:"endDate","initial-value":n(d)(new Date(u.value.endDate),"yyyy-MM-dd"),error:a.value.endDate},null,8,["initial-value","error"]),e(k,{disabled:l.value,type:"submit",class:"w-full"},{default:w(()=>[J]),_:1},8,["disabled"])],40,$)):p("",!0)],64)}}});typeof v=="function"&&v(R);export{R as default};
