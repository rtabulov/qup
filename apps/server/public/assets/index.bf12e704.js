var x=Object.defineProperty;var p=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var f=(s,r,l)=>r in s?x(s,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[r]=l,v=(s,r)=>{for(var l in r||(r={}))y.call(r,l)&&f(s,l,r[l]);if(p)for(var l of p(r))g.call(r,l)&&f(s,l,r[l]);return s};import{b as E,R as C,J as i,g as V,i as t,N as q,u as a,w as B,k as F,h as k,M as P,o as N,q as $}from"./vendor.a7312e6f.js";import{_ as m}from"./AppInput.0b832c98.js";import{_ as S}from"./AppSelect.46c28d3b.js";import{_ as D}from"./AppButton.9cd8b9e5.js";import{k as M,m as R}from"./index.876e2b77.js";import{_ as J}from"./AppRuler.ac70f49b.js";import{b}from"./route-block.b5bad31b.js";const L={class:"text-center"},T=k("h1",{class:"text-3xl"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),j=["onSubmit"],z=$("\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),A=E({setup(s){const r=C({firstName:"",lastName:"",middleName:"",department:"",position:"",email:"",password:"",confirmationPassword:""}),l=i([]);M().then(d=>{l.value=d,r.department=d[0].id});const w=P(),o=i({}),n=i(!1);async function U(){n.value=!0;try{await R(v({},r)),w.push("/login")}catch(d){n.value=!1,d.response&&(o.value=d.response.data)}}return(d,u)=>(N(),V("div",L,[T,t(J,{center:""}),l.value.length?(N(),V("form",{key:0,class:"max-w-xl mx-auto space-y-4",onSubmit:q(U,["prevent"])},[t(S,{modelValue:a(r).department,"onUpdate:modelValue":u[0]||(u[0]=e=>a(r).department=e),error:o.value.department,"onUpdate:error":u[1]||(u[1]=e=>o.value.department=e),type:"text",options:l.value,"get-label":e=>e.name,"get-value":e=>e.id},null,8,["modelValue","error","options","get-label","get-value"]),t(m,{modelValue:a(r).lastName,"onUpdate:modelValue":u[2]||(u[2]=e=>a(r).lastName=e),error:o.value.lastName,"onUpdate:error":u[3]||(u[3]=e=>o.value.lastName=e),type:"text",required:"",label:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"},null,8,["modelValue","error"]),t(m,{modelValue:a(r).firstName,"onUpdate:modelValue":u[4]||(u[4]=e=>a(r).firstName=e),error:o.value.firstName,"onUpdate:error":u[5]||(u[5]=e=>o.value.firstName=e),type:"text",required:"",label:"\u0418\u043C\u044F"},null,8,["modelValue","error"]),t(m,{modelValue:a(r).middleName,"onUpdate:modelValue":u[6]||(u[6]=e=>a(r).middleName=e),error:o.value.middleName,"onUpdate:error":u[7]||(u[7]=e=>o.value.middleName=e),type:"text",required:"",label:"\u041E\u0442\u0447\u0435\u0441\u0442\u0432\u043E"},null,8,["modelValue","error"]),t(m,{modelValue:a(r).position,"onUpdate:modelValue":u[8]||(u[8]=e=>a(r).position=e),error:o.value.position,"onUpdate:error":u[9]||(u[9]=e=>o.value.position=e),type:"text",required:"",label:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C"},null,8,["modelValue","error"]),t(m,{modelValue:a(r).email,"onUpdate:modelValue":u[10]||(u[10]=e=>a(r).email=e),error:o.value.email,"onUpdate:error":u[11]||(u[11]=e=>o.value.email=e),type:"email",required:"",label:"E-mail"},null,8,["modelValue","error"]),t(m,{modelValue:a(r).password,"onUpdate:modelValue":u[12]||(u[12]=e=>a(r).password=e),error:o.value.password,"onUpdate:error":u[13]||(u[13]=e=>o.value.password=e),type:"password",required:"",label:"\u041F\u0430\u0440\u043E\u043B\u044C"},null,8,["modelValue","error"]),t(m,{modelValue:a(r).confirmationPassword,"onUpdate:modelValue":u[14]||(u[14]=e=>a(r).confirmationPassword=e),error:o.value.confirmationPassword,"onUpdate:error":u[15]||(u[15]=e=>o.value.confirmationPassword=e),type:"password",required:"",label:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C"},null,8,["modelValue","error"]),t(D,{disabled:n.value,type:"submit",class:"w-full"},{default:B(()=>[z]),_:1},8,["disabled"])],40,j)):F("",!0)]))}});typeof b=="function"&&b(A);export{A as default};
